<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tour Virtual - Inmobiliaria</title>
    <link rel="stylesheet" href="css/style.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
</head>
<body>
    <div id="loading" class="loading-screen">
        <div class="spinner"></div>
        <p>Cargando tour virtual...</p>
    </div>

    <div id="container">
        <!-- Visor panorámico -->
        <div id="panorama-viewer">
            <img src="images/logo.png" alt="Logo Inmobiliaria" id="logo-img">
            <!-- Aquí va el canvas o la imagen panorámica -->
        </div>
        
        <!-- Controles de navegación -->
        <div id="navigation">
            <div class="nav-header">
                <h2 id="room-title">Sala Principal</h2>
                <div class="nav-controls">
                    <button id="fullscreen-btn" title="Pantalla completa">⛶</button>
                    <button id="info-btn" title="Información">ℹ</button>
                </div>
            </div>
            <button id="toggle-thumbnails-btn">Mostrar habitaciones</button>
            <div id="room-thumbnails">
                <div class="thumbnail active" data-room="sala">
                    <img src="images/thumbnails/sala-thumb.jpg" alt="Sala">
                    <span>Sala</span>
                </div>
                <div class="thumbnail" data-room="cocina">
                    <img src="images/thumbnails/cocina-thumb.jpg" alt="Cocina">
                    <span>Cocina</span>
                </div>
                <div class="thumbnail" data-room="dormitorio1">
                    <img src="images/thumbnails/dormitorio1-thumb.jpg" alt="Dormitorio">
                    <span>Dormitorio</span>
                </div>
                <div class="thumbnail" data-room="bano">
                    <img src="images/thumbnails/bano-thumb.jpg" alt="Baño">
                    <span>Baño</span>
                </div>
            </div>
        </div>

        <!-- Panel de información -->
        <div id="info-panel" class="hidden">
            <div class="info-content">
                <h3>Información del Inmueble</h3>
                <div id="property-details">
                    <p><strong>Tipo:</strong> Apartamento</p>
                    <p><strong>Área:</strong> 85 m²</p>
                    <p><strong>Habitaciones:</strong> 2</p>
                    <p><strong>Baños:</strong> 1</p>
                    <p><strong>Ubicación:</strong> Centro de la ciudad</p>
                </div>
                <button id="close-info">Cerrar</button>
            </div>
        </div>

        <!-- Puntos de navegación (hotspots) -->
        <div id="hotspots"></div>

        <!-- Controles de vista -->
        <div id="view-controls">
            <div class="control-group">
                <label>Zoom:</label>
                <input type="range" id="zoom-slider" min="0.5" max="2" step="0.1" value="1">
            </div>
            <div class="control-group">
                <button id="reset-view">Resetear Vista</button>
            </div>
        </div>
    </div>

    <script src="js/tour.js"></script>
    <script src="js/ui.js"></script>
    <script src="js/main.js"></script>
    <script>
document.addEventListener('DOMContentLoaded', function() {
    // Thumbnails toggle
    const btnThumb = document.getElementById('toggle-thumbnails-btn');
    const thumbnails = document.getElementById('room-thumbnails');
    if (btnThumb && thumbnails) {
        btnThumb.addEventListener('click', function() {
            thumbnails.classList.toggle('show');
            btnThumb.textContent = thumbnails.classList.contains('show') ? 'Ocultar habitaciones' : 'Mostrar habitaciones';
        });
        // Mostrar por defecto en escritorio
        if (window.innerWidth > 600) {
            thumbnails.classList.add('show');
        }
    }

    // Zoom controls toggle
    const btnZoom = document.getElementById('toggle-zoom-btn');
    const viewControls = document.getElementById('view-controls');
    if (btnZoom && viewControls) {
        btnZoom.addEventListener('click', function() {
            viewControls.classList.toggle('show');
            btnZoom.textContent = viewControls.classList.contains('show') ? 'Ocultar zoom' : 'Mostrar zoom';
        });
        // Mostrar por defecto en escritorio
        if (window.innerWidth > 600) {
            viewControls.classList.add('show');
        }
    }

    // Selecciona la miniatura de cocina
    const cocinaThumb = document.querySelector('.thumbnail[data-room="cocina"]');
    if (cocinaThumb) {
        cocinaThumb.addEventListener('click', function() {
            tourUtils.changeRoom('cocina');
        });
    }
});
</script>
</body>
</html>